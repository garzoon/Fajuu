{% extends 'layout.html' %}
{% block blockTitle %}Entrada{% endblock %}
{% block customCss %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/entrada.css') }}">
{% endblock %}

{% block main %}
<main class="main">
    <section class="section-entradas">

        <form action="{{ url_for('entrada_scope.entrada') }}" method="POST">
            <div class="factura_entradas">
                <h1>Datos de factura</h1>
                <label for="proveedor_id">Id proveedor</label>
                <input class="inp-idProveedor" id="proveedor_id" name="proveedor_id" type="text"
                    value="{{ proveedor_id }}">

                <label for="factura_id">Id factura</label>
                <input class="inp-idFactura" id="factura_id" name="factura_id" type="text" value="{{ factura_id }}">
            </div>

            <div class="productos_entradas">
                <h1>Productos</h1>
                <!-- <label for="producto-id">Id producto</label>
                <input class="inp-idProducto" name="producto-id" id="producto-id" type="number">
                 -->
                <select name="producto_id" id="producto_id">
                    {% if list_productos %}
                    {% for producto in list_productos%}
                    <option value="{{ producto[0] }}">{{ producto[0] }} - {{ producto[1] }}</option>
                    {% endfor %}
                    {% else %}
                    <option value="">No hay productos</option>
                    {% endif %}
                </select>

                <label for="producto_cantidad">Cantidad</label>
                <input class="inp-cantidad_producto" id="producto_cantidad" name="producto_cantidad" type="text">
            </div>

            <button class="btn proveedor-buttons_cargar" type="submit">Cargar</button>
        </form>

        <table>
            <thead>
                <tr>
                    <th>Id producto</th>
                    <th>Descripci√≥n</th>
                    <th>Cantidad</th>
                    <th>Eliminar</th>
                </tr>
            </thead>
            <tbody>
                {% if dic_productos %}
                {% for key, producto in dic_productos.items() %}
                <tr>
                    <td>{{ key }}</td>
                    <td>{{ producto[0] }}</td>
                    <td>{{ producto[1] }} {{ producto[2] }}</td>
                    <td>
                        <form action="{{ url_for('entrada_scope.delete_entrada', id=key) }}" method="POST">
                            <button type="submit">Eliminar</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
                {% endif %}
            </tbody>
        </table>

    </section>
    <section class="footer">
        <div>
            <form action="{{ url_for ('entrada_scope.send_entrada') }}" method="POST">
                <button class="btn btn-primary">Enviar</button>
            </form>
            <form action="{{ url_for ('entrada_scope.clear_entrada') }}" method="POST">
                <button class="btn btn-primary">Descartar</button>
            </form>
        </div>
    </section>
</main>

{% block customScript %}
{% endblock %}

{% endblock %}